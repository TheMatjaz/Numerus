<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Numerus: Usage example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Numerus_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Numerus
   &#160;<span id="projectnumber">v2.0.0</span>
   </div>
   <div id="projectbrief">Roman numerals conversion and manipulation C library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_USAGE_EXAMPLES.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Usage example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>First of all, include the library header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="numerus_8h.html">numerus.h</a>&quot;</span></div></div><!-- fragment --><h2>Convert a double to roman numeral with error checking. </h2>
<p>Create a value and an error code variable. Pass both to the conversion function <code><a class="el" href="numerus__core_8c.html#a9a2c36c6d1c0c46d943725f0290dae21" title="Converts a double value to a roman numeral with its value. ">numerus_double_to_roman()</a></code> (pass a pointer to the error code). If the error code is NUMERUS_OK, the conversion was successful, otherwise something bad happened, like your value was outside the allowed range or <code>malloc()</code> failed.</p>
<p><code><a class="el" href="numerus__utils_8c.html#afa2a34b783ef9ca7579b81ef21797280" title="Returns a pointer to the human-friendly text description of any NUMERUS_ERROR_* error code...">numerus_explain_error()</a></code> can help to understand the error, since it prints an explanation of the error for humans.</p>
<p>Remember to <code>free()</code> the generated roman numeral one you don't need it anymore.</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> value = 12.25;</div><div class="line"><span class="keywordtype">int</span> errcode;</div><div class="line"><span class="keywordtype">char</span> *roman = <a class="code" href="numerus__core_8c.html#a9a2c36c6d1c0c46d943725f0290dae21">numerus_double_to_roman</a>(value, &amp;errcode);</div><div class="line"><span class="keywordflow">if</span> (errcode != <a class="code" href="numerus__error__codes_8h.html#a769074e765a25bd0e7d38c48e9adc739">NUMERUS_OK</a>) {</div><div class="line">    printf(<span class="stringliteral">&quot;Conversion failed: %s\n&quot;</span>, <a class="code" href="numerus__utils_8c.html#afa2a34b783ef9ca7579b81ef21797280">numerus_explain_error</a>(errcode));</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">    printf(<span class="stringliteral">&quot;%f -&gt; %s\n&quot;</span>, value, roman);</div><div class="line">    free(roman); <span class="comment">/* Always free() unnecessary allocated strings!!! */</span></div><div class="line">}</div></div><!-- fragment --><h2>Convert an integer value to roman numeral without error checking </h2>
<p><b>Please</b> be a good programmer and <b>always check your errors!</b>. If you are lazy and your program explodes, don't blame me.</p>
<p>Anyways, error codes can be <code>NULL</code> to ignore any error. Just pass the value to a conversion function, <code><a class="el" href="numerus__core_8c.html#ad29539a71ac593443b9cb8d96c0dbd68" title="Converts a long integer value to a roman numeral with its value. ">numerus_int_to_roman()</a></code> in this case, and get the result. In case of error, the generated roman numeral will be <code>NULL</code>. If you dislike error codes, you may always check this.</p>
<div class="fragment"><div class="line"><span class="keywordtype">char</span> *roman = <a class="code" href="numerus__core_8c.html#ad29539a71ac593443b9cb8d96c0dbd68">numerus_int_to_roman</a>(-100, NULL);</div><div class="line">   <span class="comment">/* At this point roman is NULL if anything failed in the conversion */</span></div><div class="line">printf(<span class="stringliteral">&quot;%s\n&quot;</span>, roman);</div><div class="line">free(roman); <span class="comment">/* Freeing a null pointer breaks a lot of stuff! */</span></div></div><!-- fragment --><h2>Convert roman numeral to an integer with some twelfths with error checking and pretty printing </h2>
<p>In case of error, the generated int_part will be bigger than the maximum</p>
<p>Create a roman numeral, a variable to hold a number of twelfths and an error code variable. Pass all of them to the conversion function <code><a class="el" href="numerus__core_8c.html#a052d7763efe302de00675ac920f2df62" title="Converts a roman numeral to its value expressed as pair of its integer part and number of twelfths...">numerus_roman_to_int_part_and_twelfths()</a></code>.</p>
<p>If the error code is NUMERUS_OK, the conversion was successful, otherwise something bad happened, like your roman numeral had incorrect syntax (an illegal character, illegal character order, missing underscore, ...). In that case the returned long integer_part will be bigger than the maximum value a roman numeral may have, NUMERUS_MAX_VALUE. If you dislike error codes, you may always check this. <code><a class="el" href="numerus__utils_8c.html#afa2a34b783ef9ca7579b81ef21797280" title="Returns a pointer to the human-friendly text description of any NUMERUS_ERROR_* error code...">numerus_explain_error()</a></code> can help to understand the error, since it prints an explanation of the error for humans.</p>
<p>Remember to <code>free()</code> the generated roman numeral one you don't need it anymore.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> errcode;</div><div class="line"><span class="keywordtype">short</span> twelfths;</div><div class="line"><span class="keywordtype">char</span> *roman = <span class="stringliteral">&quot;-_MMVI_XCIIS...&quot;</span>;</div><div class="line"><span class="keywordtype">long</span> integer_part = <a class="code" href="numerus__core_8c.html#a052d7763efe302de00675ac920f2df62">numerus_roman_to_int_part_and_twelfths</a>(roman, &amp;twelfths, </div><div class="line">                                                                  &amp;errcode);</div><div class="line"><span class="keywordflow">if</span> (errcode != <a class="code" href="numerus__error__codes_8h.html#a769074e765a25bd0e7d38c48e9adc739">NUMERUS_OK</a>) {</div><div class="line">    printf(<span class="stringliteral">&quot;Conversion failed: %s\n&quot;</span>, <a class="code" href="numerus__utils_8c.html#afa2a34b783ef9ca7579b81ef21797280">numerus_explain_error</a>(errcode));</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">    <span class="keywordtype">char</span> *pretty_value = <a class="code" href="numerus__utils_8c.html#ac2131d5afb96cbb81c8e1630af1e25e9">numerus_create_pretty_value_as_parts</a>(integer_part, </div><div class="line">                                                              twelfths);</div><div class="line">    <span class="keywordflow">if</span> (pretty_value == NULL) {</div><div class="line">        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="numerus__utils_8c.html#afa2a34b783ef9ca7579b81ef21797280">numerus_explain_error</a>(<a class="code" href="numerus__error__codes_8h.html#a78158da8762a137c36d9a4dde8402bd3">NUMERUS_ERROR_MALLOC_FAIL</a>));</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        printf(<span class="stringliteral">&quot;%s -&gt; %s\n&quot;</span>, roman, pretty_value);</div><div class="line">        free(roman); <span class="comment">/* Always free() unnecessary allocated strings!!! */</span></div><div class="line">        free(pretty_value);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> For <b>any</b> other explanation, please contact me - my contact is in the <a href="http://thematjaz.github.io/Numerus/">readme file</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 1 2016 09:48:48 for Numerus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
